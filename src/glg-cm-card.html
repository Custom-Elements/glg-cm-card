<link rel="import" href="https://services.glgresearch.com/ui-toolkit/node_modules/ui-filtered-grid/src/ui-filtered-grid.html">
<polymer-element name="glg-cm-card" attributes="data, selected" on-click="{{addLabel}}">
  <template>
    <link rel="stylesheet" type="text/css" href="./glg-cm-card.less">
    <div class="mainContainer {{ {selected: selected} | tokenList}} cmid{{data.CmId}}">
      <div class="contactHeader">
        <div class="compliance {{data.Compliance.Status}}" title="{{data.Compliance.Reason | joinNewLine}}"></div>
        <div class="name"><a href="https://services.glgresearch.com/advisors/#/cm/{{data.CmId}}" target="#{}">{{data.Name}}</a></div>
        <div class="rate">Rate: ${{data.Rate}}</div>
      </div>
      <div class="contactContainer">
        <div class="email">Email: {{data.Email}}</div>
        <div class="phone" hidden?="{{ !data.Phone || data.Phone == 'null' }}">Phone: {{data.Phone}}</div>
        <div class="cell" hidden?="{{ !data.Cell || data.Cell == 'null' }}">Cell: {{data.Cell}}</div>
      </div>
      <div class="bioWhContainer">
        <div class="bio">{{data.Bio}}</div>
        <div class="jobHistory"><ui-filtered-grid value="{{_jobHistory}}" id="historyTable" height="12em"></ui-filtered-grid></div>
      </div>
    </div>
  </template>
</polymer-element>

<polymer-element name="glg-cm-card-stack" attributes="data" on-card-dom-ready="{{cardReadyTracker}}">
  <template>
    <template repeat="{{d in data}}">
      <glg-cm-card data="{{d}}" class="cmid{{d.CmId}}"></glg-cm-card>
    </template>
  </template>
<script src="./glg-cm-card.litcoffee"></script>
